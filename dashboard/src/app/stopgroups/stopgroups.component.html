<button class="bg-blue-600 h-fit p-1.5 m-1.5 w-fit rounded text-white" (click)="updateOrder()">Save Changes</button>

<div class="flex">
  <div class="w-2/3"
       cdkDropList (cdkDropListDropped)="dropGroup($event)">
    @for (group of stopGroups(); track group) {
      <div class="bg-gray-200 p-5 m-10 rounded-xl" cdkDrag>
        <p class="font-bold">{{ group.name }}</p>
        <div class="flex justify-between">
          <p>{{ group.description }}</p>
          <button

            class="text-white p-1.5 my-1 bg-gray-700 appearance-none border rounded border-transparent"
            [routerLink]="['/stopgroup']"
            [queryParams]="{ id: group.stopGroupID, name: group.name, description: group.description, isPublic: group.isPublic }">
            Details
          </button>
        </div>
        <div class="flex flex-col m-5"
             cdkDropList
             [cdkDropListData]="group.stops"
             [cdkDropListConnectedTo]="getDropGroups()"
             (cdkDropListDropped)="dropStop($event)"
             id="{{ 'group-' + group.stopGroupID }}"
        >
          <p>Stops</p>
          @for (stop of group.stops; track stop.stopID) {
            <div class="mb-1 bg-gray-400 p-3 rounded-l"
                 cdkDrag
            >
              <div class="flex justify-between">
                <p>{{ stop.stopID }}</p>
                <button
                  class="text-white p-1.5 my-1 bg-gray-700 appearance-none border rounded border-transparent"
                  [routerLink]="['/stop']"
                  [queryParams]="{ id: stop.stopID, name: stop.name, description: stop.description, roomNr: stop.roomNr, stopGroupID: group.stopGroupID }">
                  Details
                </button>
              </div>
            </div>
          }
        </div>
      </div>
    }
  </div>
  <div class="w-1/3">
    <div class="bg-gray-200 p-5 m-10 rounded-xl"
         cdkDropList
         [cdkDropListData]="privateStops()"
         [cdkDropListConnectedTo]="getDropGroups()"
         (cdkDropListDropped)="dropStop($event)"
         id='group-0'>
      <p>Unassigned Stops</p>
      @for (stop of privateStops(); track stop.stopID) {
        <div class="mb-1 bg-gray-400 p-3 rounded-l"
             cdkDrag
        >
          <p>{{ stop.stopID }}</p>
        </div>
      }
    </div>
  </div>
</div>

